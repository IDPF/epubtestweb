{% extends 'base.html' %}
{% load assignments %}
{% load filters %}

{% block content %}

<h1>Reading System Evaluations

{% if is_archive_view %}
: Archive View
{% endif %}
</h1>

{% if is_archive_view %}
<p>The following reading system evaluations have been archived but are still available to view. For the latest, please visit the <a href="/">home page</a>.</p>
{% else %}
<p>The following reading systems have been evaluated:</p>
{% endif %}
    <table id="rs" class="table table-striped">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                
                {% if testsuite.testsuite_type == "2" %}
                <th class="none">AT</th>
                {% endif %}
                
                {% for category in testsuite.categories %}
                <th class="none">{{category.name}}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for evaluation in evaluations %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>
                    <a href="/evaluation/{{evaluation.id}}">{{evaluation.reading_system | get_reading_system_display_name}}</a>
                </td>
                {% if testsuite.testsuite_type == "2" %}
                    {% get_metadata evaluation as metadata %}
                    <td>{{metadata.assistive_technology}}</td>
                {% endif %}
                    {% for category in testsuite.categories %}
                        {% get_score evaluation category as category_score %}
                        <td>
                            <a href="/evaluation/{{evaluation.id}}#{{category.category_id}}">
                                {{category_score.percent | floatformat}}%
                            </a>
                        </td>
                    {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {% if is_archive_view == False %}
    <p><a href="archive/">View Archives</a></p>
    {% endif %}
    
    <script>
        $(document).ready(function(){
            initDataTable(false);
        });
    </script>

{% endblock %}
