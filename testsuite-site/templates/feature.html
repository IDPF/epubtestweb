{% extends 'base.html' %}
{% load assignments %}
{% load filters %}

{% block content %}

<h1>{{feature.name}}</h1>

<p class="bold">The {{feature.name}} feature contains {{tests | length}} test(s).</p>

<table class="table table-feature">
    <thead>
        <th>Reading System</th>
        <th>Tests Passed</th>
        {% for test in tests %}
        <th>{{test.name}}</th>
        {% endfor %}
    </thead>
    <tbody>
        {% for evaluation in evaluations %}
        <tr>
            <th><a href="/grid/{{evaluation.reading_system_version.reading_system.id}}/ts/{{evaluation.testsuite.id}}">{{evaluation.reading_system_version.reading_system.name}} ({{evaluation.reading_system_version.reading_system.operating_system}}) v. {{evaluation.reading_system_version.version}}</a>
            <br/>
            {% get_metadata evaluation as metadata %}
            {% if metadata != None %}
            <span>{{metadata.assistive_technology}}</span>
            {% endif %}
            </th>
            {% get_score evaluation feature as feature_score %}
            <td class="summary">{{feature_score.fraction}}</td>
            {% for test in tests %}
            {% get_result test evaluation as result %}
            {% if result.result == "1" %}
            <td class="supported">
            {% elif result.result == "2" %}
            <td class="unsupported">
            {% else %}
            <td class="other">
            {% endif %}
                 {{result | get_result_description}}
            </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
